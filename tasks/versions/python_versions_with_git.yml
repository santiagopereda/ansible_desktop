---
- name: Debug variables
  debug:
    msg: "{{ pyenv_python_versions.keys() }} {{ item }} "
  with_items: "{{ pyenv_python_versions }}"

- name: Install Python interpreters
  become: true
  become_user: "{{base_user}}"
  ansible.builtin.shell: " {{ pyenv_bin_path }} install {{ item }} "
  args:
    executable: "{{ pyenv_install_shell }}"
    creates: "$HOME/.config/pyenv/versions/{{ item }}/bin/python"
  with_items: "{{ pyenv_python_versions }}"
  environment: "{{ pyenv_install_environment }}"